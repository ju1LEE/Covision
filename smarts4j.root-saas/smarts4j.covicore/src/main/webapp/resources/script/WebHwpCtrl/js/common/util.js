define(["jquery","aes","pbkdf2","errorCode"],function(d,o,e,t){var r=document.documentElement?document.documentElement.matchesSelector||document.documentElement.mozMatchesSelector||document.documentElement.webkitMatchesSelector||document.documentElement.oMatchesSelector||document.documentElement.msMatchesSelector:null,n=[37,38,39,40];return{getOffsetTop:function(e,t){for(var r=e.offsetTop,n=e.offsetParent;n&&n!==t;)r+=n.offsetTop,n=n.offsetParent;return r},getOffsetLeft:function(e,t){for(var r=e.offsetLeft,n=e.offsetParent;n&&n!==t;)r+=n.offsetLeft,n=n.offsetParent;return r},getScrollSize:function(e){void 0!==e&&e||(e=document);var t=0,r=0;if(!0===/[\#]?document$/i.test(e.nodeName)){var n="CSS1Compat"===e.compatMode;t=!0===n?e.documentElement.scrollWidth:e.body.scrollWidth||0,r=!0===n?e.documentElement.scrollHeight:e.body.scrollHeight||0}else t=e.scrollWidth||0,r=e.scrollHeight||0;return{x:t,y:r}},getWindowFullSize:function(){var e=this.getScrollSize(),t=d(window),r={width:t.width(),height:t.height()};return{width:e.width>r.width?e.width:r.width,height:e.height>r.height?e.height:r.height}},getCurrentStyle:function(e,t){var r=window.document,n=null;if(!e||!t)return null;window.getComputedStyle?n=r.defaultView.getComputedStyle(e,null)[t]:n=e.currentStyle?e.currentStyle[t]:e.style[t];return n},getCss3Style:function(e,t,r){if(!e||1!==e.nodeType||!t)return"";var n,o,i,a=!0===r?this.getCurrentStyle(e,t):e.style[t],l="",s=null,c=null;if(void 0===a){if(i="",(n=e).outerHTML?i=n.outerHTML:n.parentNode?i=n.parentNode.innerHTML:((o=document.createElement("div")).appendChild(n.cloneNode(!1)),o.innerHTML&&(i=o.innerHTML)),!(s=(l=i)?l.split(">"):null)||!s.length)return"";a=(c=/box-reflect[\s]?\:[^;]*;/.exec(s[0]))?c[0].replace(";",""):""}return a},removeStyleProperty:function(e,t){if(e&&t){var r=t;try{if(e.style.removeProperty)e.style.removeProperty(t);else{if(-1!=r.indexOf("-")){var n,o=r.split("-"),i=o.length;for(r="",n=0;n<i;n++)r+=0==n?o[n]:this.getUCFirst(o[n])}e.style.removeAttribute(r)}}catch(e){console.warn(e)}}},getValidStyleVal:function(e,t){var r=t;return e&&"string"==typeof e&&t&&"initial"===t&&(-1===e.indexOf("padding")&&-1===e.indexOf("margin")&&-1===e.indexOf("border")&&"text-indent"!==e||(r="0px")),r},getDocumentHTML:function(e){return d.browser.mozilla?(new window.XMLSerializer).serializeToString(e):e.documentElement.outerHTML},setDocumentHTML:function(e,t){try{e.open(),e.write(t),e.close()}catch(e){console.warn(e)}},setHTMLEncode:function(e){if(!e)return"";var t=e;return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")},setHTMLDecode:function(e){if(!e)return"";var t=e;return t=(t=(t=t.replace(/&gt;/g,">")).replace(/&lt;/g,"<")).replace(/&amp;/g,"&")},getFileName:function(e){var t="",r="",n="",o=-1!==navigator.userAgent.toLowerCase().indexOf("windows"),i=o?"\\":"/";!o&&/fakepath/i.test(e)&&/\\/.test(e)&&(i="\\"),"\\"==i&&-1==e.indexOf(i)&&-1!=e.indexOf("/")&&(i="/");try{var a=e.split(i),l=a[a.length-1];n=e.substring(0,e.lastIndexOf(i)),t=l.substring(0,l.lastIndexOf(".")),r=l.substring(l.lastIndexOf(".")+1)}catch(e){console.warn(e)}return{fileName:t,fileExt:r,filePath:n}},getFileInfo:function(e){var t=d(e);if(!t.length)return null;var r=t.get(0).files,n={},o=["name","size","type","lastModifiedDate","mainType","subType"];if(r&&0<r.length){var i,a=r[0],l=o.length;if(a)for(i=0;i<l;i++)a[o[i]]&&(n[o[i]]=a[o[i]]);if(n.type){var s=n.type.split("/");s[0]&&(n.mainType=s[0]),s[1]&&(n.subType=s[1])}else if(a.name){var c=this.getFileName(a.name).fileExt;c&&(c=c.toLocaleLowerCase()),"mkv"==c?(n.mainType="video",n.subType=c,n.type="video/x-mpeg"):"wmf"!=c&&"emf"!=c||(n.mainType="image",n.subType=c,n.type="image/x-"+c)}}else{var u=t.val(),f=null;if(u&&(f=this.getFileName(u))){var y=f.fileExt;/(jpg|jpeg|gif|png|bmp)/i.test(y)&&(y="image"),n.name=f.fileName,n.type=y+"/"+f.fileExt,n.mainType=y,n.subType=f.fileExt}}return n},getFileSizeTransLate:function(e,t){if(!e||isNaN(e))return 0;t||(t=0);var r,n,o=0,i={YB:12089258196146292e8,ZB:11805916207174113e5,EB:0x1000000000000000,PB:0x4000000000000,TB:1099511627776,GB:1073741824,MB:1048576,KB:1024},a=Math.pow(10,t);if(e<=1024)o=e+" Bytes";else for(r in i)if(i.hasOwnProperty(r)&&(n=i[r])<=e){o=Math.round(e*a/n)/a+" "+r;break}return String(o)},getFillZero:function(e,t){if(void 0===e)return null;if(!t||isNaN(e))return e;var r,n=String(e);for(r=n.length;r<t;r++)n="0"+n;return n},getUCFirst:function(e){return e?e.substring(0,1).toUpperCase()+e.substring(1):""},getUCWordsFirst:function(e){if(!e)return"";var t,r=e.split(/ |-/g),n=r.length,o=null,i=null,a=0,l="";for(t=0;t<n;t++)o=r[t],l+=this.getUCFirst(o),a+=o.length,(i=e.charAt(a))&&(l+=i,a++);return l},getDateDiff:function(e,t,r,n){var o=!1,i=0,a=0;if(!e||!t)return i;r||(r="d"),void 0===n&&(n=!0);var l=function(e){e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)};if("string"==typeof e&&"string"==typeof t){var s=e.split("-"),c=t.split("-");3==s.length&&3==c.length&&(o=!0,e=new Date(s[0],parseInt(s[1],10)-1,s[2]),t=new Date(c[0],parseInt(c[1],10)-1,c[2]))}else"object"==typeof e&&"object"==typeof t&&(e.getDate&&t.getDate&&(o=!0),o&&!1===n&&(l(e),l(t)));if(o){switch(r){case"d":a=864e5;break;case"h":a=36e5;break;case"m":a=6e4;break;case"s":a=1e3}0<a&&(i=Math.ceil((t.getTime()-e.getTime())/a))}return i},getBrowserLanguage:function(e){var t="",r="";return(t=navigator.userLanguage?navigator.userLanguage:navigator.language?navigator.language:e)&&(t=t.toLowerCase()),2<=t.length&&(r=t.substring(0,2)),""===r&&(r=e),{shortCode:r,fullCode:t}},getBrowserDevice:function(){var e=navigator.userAgent.toLowerCase();return{isWindows:/(windows)/i.test(e),isMobile:/(mobile|android|ipad|iphone)/i.test(e),isAndroid:/(android)/i.test(e),isIos:/(ipad|iphone|ipot|mac os x)/i.test(e),isIphone:/(iphone)/i.test(e),isIpad:/(ipad)/i.test(e),isChrome:/(chrome|crios)/i.test(e),IsMac:/macintosh/.test(e),IsLinux:/linux/.test(e)}},getWindowsSystemBit:function(){var e=navigator.userAgent.toLowerCase(),t="";return-1!==e.indexOf("windows")&&(t=-1!==e.indexOf("wow64")||-1!==e.indexOf("win64")?"64bit":"32bit"),t},getMouseEventName:function(){var e=this.getBrowserDevice().isMobile;return{down:e?"touchstart":"mousedown",up:e?"touchend":"mouseup",move:e?"touchmove":"mousemove"}},findParentTagNode:function(e,t){var r,n=!1,o=typeof t;if("object"===o&&0<t.length){for(r=0;r<t.length;r++)"string"==typeof t[r]&&(t[r]=t[r].toUpperCase());n=!0}else"string"===o?t&&(t=t.toUpperCase()):t="";if(n)for(;e&&-1===d.inArray(e.nodeName,t);)e=e.parentNode;else for(;e&&e.nodeName!==t;)e=e.parentNode;return e},matches:function(e,t){return!(!e||e.nodeType!=Node.ELEMENT_NODE)&&(r?r.call(e,t):d(e).is(t))},findParentNode:function(t,e,r){if(!t)return null;3===t.nodeType&&(t=t.parentNode),!r||r instanceof Node||(r=d(r).get(0));try{for(;t&&!this.matches(t,e)&&t!=r;)t=t.parentNode;r&&r==t&&(t=null)}catch(e){t=null}return t},findChildNode:function(e,o,t,r){var n,i=!1,a=!1,l=null,s=t,c=r;if(!(e=d(e).get(0))||!e.hasChildNodes())return null;function u(e){var t,r,n=e.length;if(0<n)for(t=0;t<n;t++){if(a)return;if(r=e[t],!c(r)){if(s(r)&&(3!=r.nodeType||""!==r.nodeValue.replace(/(?:\n|\t|\r)/g,""))&&(l=r,"first"===o)){a=!0;break}0<r.childNodes.length&&u(r.childNodes)}}}for(void 0===o&&(o="first"),"function"!=typeof s&&(s=function(e){return"string"!=typeof t||d(e).is(t)}),"function"!=typeof c&&(c=function(e){return"string"==typeof r&&d(e).is(r)}),n="last"===o?e.lastChild:e.firstChild;!i;)u([n]),(n="last"===o?n.previousSibling:n.nextSibling)&&!l||(i=!0);return l},filterOneByClassName:function(e,t){var r,n,o=null,i=0;if(e)for(n=e.length;!o&&i<n;)r=e[i],this.hasClass(r,t)&&(o=r),i++;return o},findPrevNode:function(e,t,r){for(var n=e,o=function(e){if(!e)return null;for(var t=e.previousSibling;t&&t.lastChild;)t=t.lastChild;return t||e.parentNode};n&&!d(n=o(n)).is(t)&&n!=r;);return n},findNextNode:function(e,t,r){for(var n=e,o=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;if(e.nextSibling)return e.nextSibling;for(var t=e.parentNode;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null};n&&!d(n=o(n)).is(t)&&n!=r;);return n},findPrevNodeAll:function(e,t){for(var r=[],n=e;n=this.findPrevNode(n,t);)r.push(n);return r},findNextNodeAll:function(e,t){for(var r=[],n=e;n=this.findNextNode(n,t);)r.push(n);return r},setCookieVal:function(e,t,r){var n=new Date,o=document.location.host;n.setDate(n.getDate()+r),-1!=o.indexOf(":")&&(o=o.substring(0,o.indexOf(":"))),document.cookie=e+"="+window.escape(t)+(null==r?"":"; expires="+n.toGMTString())+"; path=/; domain="+o},getCookieVal:function(e){var t,r=document.cookie,n=e+"=",o=r.indexOf("; "+n);if(-1==o){if(0!=(o=r.indexOf(n)))return null}else o+=2;return-1==(t=document.cookie.indexOf(";",o))&&(t=r.length),window.unescape(r.substring(o+n.length,t))},parseURL:function(e,t){e||(e=document.location.href),e=e.replace(/@/g,"%40");for(var n={strictMode:!0===t,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[n.strictMode?"strict":"loose"].exec(e),o={},i=14;i--;)o[n.key[i]]=r[i]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(e,t,r){e&&t&&(o[n.q.name][t]=r.replace(/%40/g,"@"))}),o},getRgbToHex:function(e){if(!e)return"";e=e.replace(/[ ]/g,"");var t="",r=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];if(0==e)e="00";else{var r,n,o=e/16,i=null,a=null;-1===(o+="a").indexOf(".")?(r=o.indexOf("a"),i=t[n=o.substring(0,r)],a="0"):(i=t[n=o.split(".")[0]],a=t[e-16*n]),e=i+a}return e};if(/^rgb[a]?\(/i.test(e)){var n=(t=(t=(t=e.substr(e.indexOf("(")+1)).substr(0,t.length-1)).split(","))[0],o=t[1],i=t[2],a=t[3];return"0"==n&&"0"==o&&"0"==i&&"0"==a?"#ffffff":"#"+r(n)+r(o)+r(i)}return e},getHexToRgb:function(e,t){void 0===t&&(t=null),"#"==e.substr(0,1)&&(e=e.substr(1));var r="",n="",o="";if(3==e.length)r=e.substr(0,1),r+=r,n=e.substr(1,1),n+=n,o=e.substr(2,1),o+=o;else{if(6!=e.length)return t;r=e.substr(0,2),n=e.substr(2,2),o=e.substr(4,2)}return r=parseInt(r,16),n=parseInt(n,16),o=parseInt(o,16),isNaN(r)||isNaN(n)||isNaN(o)?t:"rgb("+r+", "+n+", "+o+")"},convertPtToPx:function(e){return 96*parseFloat(e)/72},getUnits:function(e,t,r){if(void 0===e||null==e)return null;var n="",o=-1,i=1,a=null,l=this.getCurrentStyle,s=null,c={pixel:"px",percent:"%",inch:"in",cm:"cm",mm:"mm",point:"pt",pica:"pc",em:"em",ex:"ex"};if(null===String(e).match(/[\d|\.]+/))return null;if(void 0!==t&&"number"==typeof t&&0<=t&&(o=Math.pow(10,t)),n=String(e),/^-/.test(n)&&(e=n.substring(1),i=-1),r){var u=n.match(/\D+$/),f=null;if(r==(u=null==u?"px":u[0])?f=parseFloat(e):"px"==r&&"pt"==u&&(f=this.convertPtToPx(e)),"number"==typeof f){var y={},d=null;for(s in c)if(c[s]==r){d=s;break}return d?(-1<o&&(f=Math.round(f*o)/o),y[d]=f*i):y=null,y}}var h=function(e){document.body.removeChild(e)};(a=document.createElement("div")).style.overflow="hidden",a.style.visibility="hidden",document.body.appendChild(a);var p,m,g,K={},C={},k=(p=a,m=e,g=null==String(m).match(/\D+$/)?"px":"",p.style.width=m+g,l(p,"width")),v=k.match(/[\d|\.]+/),F=null;if(null===v)return h(a),null;v=v[0];var w=k.match(/\D+$/);for(s in w=null==w?c.pixel:w[0],c)if(c[s]==w){F=s;break}if(!F)return h(a),null;if(r){if(r===w)return-1<o&&(v=Math.round(v*o)/o),C[F]=v*i,h(a),C;var b={};for(s in c)c[s]!=w&&c[s]!=r||(b[s]=c[s]);c=b}for(s in c)a.style.width=100+c[s],K[s]=100/a.offsetWidth,C[s]=v*(K[s]*K[F]),-1<o&&(C[s]=Math.round(C[s]*o)/o),C[s]=C[s]*i;return h(a),C},getTrimText:function(e){return e?e.replace(/(?:\n|\t|\r)/g,""):""},isStartsWith:function(e,t){return"string"==typeof e&&"string"==typeof t&&e.slice(0,t.length)===t},isEndsWith:function(e,t){return"string"==typeof e&&"string"==typeof t&&e.slice(-1*t.length)===t},cloneObject:function(e){if(!e)return e;var t,r,n,o,i;if(this.isArray(e))for(i=(t=e.slice(0)).length,o=0;o<i;o++)t[o]=this.cloneObject(t[o]);else if(this.isObject(e))for(t={},i=(r=Object.keys(e)).length,o=0;o<i;o++)t[n=r[o]]=this.cloneObject(e[n]);else t=e;return t},deepClone:function(e){return this.cloneObject(e)},isInvalidSpecialChar:function(e){return/[\\\/\:\*\?\"\<\>\|\#\%\&\+]/.test(e)},keyCodeMap:{f1:"112",f2:"113",f3:"114",f4:"115",f5:"116",f6:"117",f7:"118",f8:"119",f9:"120",f10:"121",f11:"122",f12:"123",0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57",num0:"96",num1:"97",num2:"98",num3:"99",num4:"100",num5:"101",num6:"102",num7:"103",num8:"104",num9:"105","num*":"106","num+":"107",numenter:"108","num-":"109","num.":"110","num/":"111",numlock:"144",cancel:"3",backspace:"8",tab:"9",clear:"12",enter:"13",shift:"16",ctrl:"17",alt:"18",menu:"18",pause:"19",break:"19",capslock:"20",koreanswitch:"21",chinesechar:"25",escape:"27",esc:"27",space:"32",spacebar:"32",pageup:"33",pagedown:"34",end:"35",home:"36",left:"37",up:"38",right:"39",down:"40",select:"41",printscreen:"42",execute:"43",snapshot:"44",insert:"45",ins:"45",delete:"46",del:"46",help:"47",command:"91",rcommand:"93",ffcommand:"224",window:"92",scrolllock:"145",scroll:"145",";":"186",semicolon:"186","=":"187",equal:"187",",":"188",comma:"188","-":"189",dash:"189",".":"190",period:"190","/":"191","`":"192","[":"219","\\":"220","]":"221","'":"222","shift+movekeys":function(e){return e.shiftKey&&-1!==n.indexOf(e.keyCode)},"ctrl+movekeys":function(e){return e.ctrlKey&&!e.shiftKey&&-1!==n.indexOf(e.keyCode)},"ctrl+shift+left":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&37===e.keyCode},"ctrl+shift+up":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&38===e.keyCode},"ctrl+shift+right":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&39===e.keyCode},"ctrl+shift+down":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&40===e.keyCode},"command+movekeys":function(e){return e.metaKey&&!e.shiftKey&&-1!==n.indexOf(e.keyCode)},"command+shift+left":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&37===e.keyCode},"command+shift+up":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&38===e.keyCode},"command+shift+right":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&39===e.keyCode},"command+shift+down":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&40===e.keyCode},"ctrl+backspace":function(e){return e.ctrlKey&&8===e.keyCode},"shift+backspace":function(e){return e.shiftKey&&8===e.keyCode},"command+backspace":function(e){return e.metaKey&&8===e.keyCode},"alt+backspace":function(e){return e.altKey&&8===e.keyCode},"ctrl+tab":function(e){return e.ctrlKey&&9===e.keyCode},"command+tab":function(e){return e.metaKey&&9===e.keyCode},"alt+tab":function(e){return e.altKey&&9===e.keyCode},"shift+tab":function(e){return e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&9===e.keyCode},only_tab:function(e){return!e.shiftKey&&!e.ctrlKey&&!e.altKey&&9===e.keyCode},only_enter:function(e){return!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||13!==e.keyCode)},"shift+enter":function(e){return e.shiftKey&&13===e.keyCode},"ctrl+enter":function(e){return e.ctrlKey&&13===e.keyCode},"command+enter":function(e){return e.metaKey&&13===e.keyCode},"ctrl+space":function(e){return e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey&&32===e.keyCode},"shift+pageup":function(e){return e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&33===e.keyCode},"shift+pagedown":function(e){return e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&34===e.keyCode},"shift+insert":function(e){return e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&45===e.keyCode},"ctrl+insert":function(e){return e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey&&45===e.keyCode},"command+insert":function(e){return e.metaKey&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&45===e.keyCode},"ctrl+delete":function(e){return e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey&&46===e.keyCode},"shift+delete":function(e){return e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&46===e.keyCode},"ctrl+a":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&65===e.keyCode},"command+a":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&65===e.keyCode},"ctrl+b":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&66===e.keyCode},"command+b":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&66===e.keyCode},"ctrl+c":function(e){return e.ctrlKey&&!e.shiftKey&&!e.metaKey&&!e.altKey&&67===e.keyCode},"command+c":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&67===e.keyCode},"ctrl+shift+c":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&67===e.keyCode},"command+shift+c":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&67===e.keyCode},"ctrl+alt+d":function(e){return e.ctrlKey&&e.altKey&&!e.shiftKey&&!e.metaKey&&68===e.keyCode},"ctrl+e":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&69===e.keyCode},"command+e":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&69===e.keyCode},"ctrl+shift+e":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&69===e.keyCode},"command+shift+e":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&69===e.keyCode},"alt+shift+e":function(e){return e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&69===e.keyCode},"ctrl+f":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&70===e.keyCode},"command+f":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&70===e.keyCode},"ctrl+alt+f":function(e){return e.ctrlKey&&e.altKey&&!e.shiftKey&&!e.metaKey&&70===e.keyCode},"ctrl+shift+g":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&71===e.keyCode},"command+shift+g":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&71===e.keyCode},"ctrl+h":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&72===e.keyCode},"ctrl+i":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&73===e.keyCode},"command+i":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&73===e.keyCode},"ctrl+alt+i":function(e){return e.ctrlKey&&e.altKey&&!e.metaKey&&!e.shiftKey&&73===e.keyCode},"command+alt+i":function(e){return e.metaKey&&e.altKey&&!e.ctrlKey&&!e.shiftKey&&73===e.keyCode},"alt+shift+i":function(e){return e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&73===e.keyCode},"ctrl+j":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&74===e.keyCode},"command+j":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&74===e.keyCode},"ctrl+k":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&75===e.keyCode},"command+k":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&75===e.keyCode},"ctrl+l":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&76===e.keyCode},"command+l":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&76===e.keyCode},"ctrl+shift+l":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&76===e.keyCode},"command+shift+l":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&76===e.keyCode},"ctrl+m":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&77===e.keyCode},"command+m":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&77===e.keyCode},"ctrl+shift+m":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&77===e.keyCode},"command+shift+m":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&77===e.keyCode},"ctrl+n":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&78===e.keyCode},"command+n":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&78===e.keyCode},"alt+shift+n":function(e){return e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&78===e.keyCode},"ctrl+p":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&80===e.keyCode},"command+p":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&80===e.keyCode},"alt+p":function(e){return e.altKey&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&80===e.keyCode},"ctrl+r":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&82===e.keyCode},"command+r":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&82===e.keyCode},"ctrl+shift+r":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&82===e.keyCode},"command+shift+r":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&82===e.keyCode},"alt+shift+r":function(e){return e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&82===e.keyCode},"ctrl+s":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&83===e.keyCode},"command+s":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&83===e.keyCode},"alt+s":function(e){return e.altKey&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&83===e.keyCode},"ctrl+u":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&85===e.keyCode},"command+u":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&85===e.keyCode},"ctrl+v":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&86===e.keyCode},"alt+v":function(e){return e.altKey&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&86===e.keyCode},"command+v":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&86===e.keyCode},"alt+shift+w":function(e){return e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&87===e.keyCode},"ctrl+x":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&88===e.keyCode},"command+x":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&88===e.keyCode},"ctrl+y":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&89===e.keyCode},"ctrl+z":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&90===e.keyCode},"ctrl+shift+z":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&90===e.keyCode},"command+shift+z":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&90===e.keyCode},"command+z":function(e){return e.metaKey&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&90===e.keyCode},"ctrl+/":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&191==e.keyCode},"command+/":function(e){return e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey&&191==e.keyCode},"ctrl+f2":function(e){return e.ctrlKey&&113===e.keyCode},"ctrl+f3":function(e){return e.ctrlKey&&114===e.keyCode},"ctrl+f5":function(e){return e.ctrlKey&&116===e.keyCode},"ctrl+f10":function(e){return e.ctrlKey&&121===e.keyCode},"ctrl+shift+f5":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&116===e.keyCode},"command+shift+f5":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&116===e.keyCode},"ctrl+f6":function(e){return e.ctrlKey&&117===e.keyCode},only_f1:function(e){return!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||112!==e.keyCode)},only_f7:function(e){return!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||118!==e.keyCode)},only_f12:function(e){return!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||123!==e.keyCode)},"ctrl+0":function(e){return e.ctrlKey&&!e.altKey&&(48===e.keyCode||96===e.keyCode)},"command+0":function(e){return e.metaKey&&!e.altKey&&(48===e.keyCode||96===e.keyCode)},"ctrl+1":function(e){return e.ctrlKey&&!e.altKey&&(49===e.keyCode||97===e.keyCode)},"ctrl+2":function(e){return e.ctrlKey&&!e.altKey&&(50===e.keyCode||98===e.keyCode)},"ctrl+3":function(e){return e.ctrlKey&&!e.altKey&&(51===e.keyCode||99===e.keyCode)},"ctrl+shift+<":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&188===e.keyCode},"command+shift+<":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&188===e.keyCode},"ctrl+shift+>":function(e){return e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey&&190===e.keyCode},"command+shift+>":function(e){return e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&190===e.keyCode},"ctrl+[":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&219===e.keyCode},"command+[":function(e){return e.metaKey&&!e.altKey&&!e.shiftKey&&!e.ctrlKey&&219===e.keyCode},"ctrl+]":function(e){return e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&221===e.keyCode},"command+]":function(e){return e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey&&221===e.keyCode},"shift+alt":function(e){return e.shiftKey&&18===e.keyCode&&!e.ctrlKey&&!e.metaKey},"alt+shift":function(e){return e.altKey&&16===e.keyCode&&!e.ctrlKey&&!e.metaKey},not_composition:function(e){return!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey)},command_composition:function(e){return e.metaKey},alt_composition:function(e){return e.altKey},"!ctrlkey !altkey":function(e){return 0==e.ctrlKey&&0==e.altKey&&17!=e.keyCode&&18!=e.keyCode},"!ctrlkey !command":function(e){return 0==e.ctrlKey&&(0==e.metaKey||null==e.metaKey)&&17!=e.keyCode},"!ctrlkey !altkey !command":function(e){return 0==e.ctrlKey&&0==e.altKey&&(0==e.metaKey||null==e.metaKey)&&17!=e.keyCode&&18!=e.keyCode},"!ctrlkey !altkey !shiftkey":function(e){return 0==e.ctrlKey&&0==e.altKey&&0==e.shiftKey&&16!=e.keyCode&&17!=e.keyCode&&18!=e.keyCode},"ctrlkey altkey !shiftkey":function(e){return 1==e.ctrlKey&&1==e.altKey&&!e.shiftKey&&17!=e.keyCode&&18!=e.keyCode},"ctrlkey altkey":function(e){return 1==e.ctrlKey&&1==e.altKey&&17!=e.keyCode&&18!=e.keyCode},"movement keys":function(e){var t=-1!=d.inArray(e.keyCode,[33,34,35,36,37,38,39,40]);return e.shiftKey&&t||t},"all movement keys":function(e){return-1!=d.inArray(e.keyCode,[33,34,35,36,37,38,39,40,45])},"function keys":function(e){var t,r=["ctrl","alt","command","rcommand","ffcommand","pause","capslock","esc","window","numlock","scrolllock"],n=!1,o=r.length;for(t=0;t<o;t++)if(this[r[t]]==e.keyCode){n=!0;break}return n},"a-z":function(e){return 65<=e.keyCode&&e.keyCode<=90},"0-1&a-z":function(e){return 48<=e.keyCode&&e.keyCode<=90},"input keys":function(e){return-1!=d.inArray(e.keyCode,[9,13,32])||48<=e.keyCode&&e.keyCode<=90||186<=e.keyCode&&e.keyCode<=222||96<=e.keyCode&&e.keyCode<=111||229==e.keyCode},"f1~f12":function(e){return-1!=d.inArray(e.keyCode,[112,113,114,115,116,117,118,119,120,121,122,123])}},keyMap:function(c,u){u||(u=c,c=this);var f=this,y=u.keyCode,a=u.originalEvent?u.originalEvent.defaultPrevented:u.defaultPrevented;return void 0===a&&(a=u.isDefaultPrevented()),{filter:function(e,t){var r,n,o,i=e.length;for(r=0;r<i&&(n=e[r].toLowerCase(),o=f.keyCodeMap[n],-1!=d.inArray(n,["tab","only_tab"])||!a);r++){if(d.isFunction(o)&&o(u)){t.call(c,n,this);break}if(y==o){t.call(c,n,this);break}}return this},only:function(e,t){var r,n,o,i,a,l=e.length,s=!1;for(r=0;r<l;r++){for(a=["shiftKey","ctrlKey","altKey"],-1!=(o=e[r]).indexOf("shift")?a=f.without(a,"shiftKey"):-1!=o.indexOf("alt")?a=f.without(a,"altKey"):-1!=o.indexOf("ctrl")&&(a=f.without(a,"ctrlKey")),s=!1,n=0;n<a.length;n++)u[a[n]]&&(s=!0);if(i=f.keyCodeMap[o],!s&&d.isFunction(i)&&i(u)){t.call(c,o,this);break}if(!s&&y==i){t.call(c,o,this);break}}},is:function(e){var t,r,n=!1;if(e instanceof Array){var o,i=e.length;for(o=0;o<i&&(t=e[o],!(r=f.keyCodeMap[t])||!(n=d.isFunction(r)?r(u):y==r));o++);}else r=f.keyCodeMap[e],n=d.isFunction(r)?r(u):y==r;return n},isMovementKeys:function(){return f.keyCodeMap["movement keys"](u)},isAllMovementKeys:function(){return f.keyCodeMap["all movement keys"](u)},isInputKeys:function(){return f.keyCodeMap["input keys"](u)},isFuncKeys:function(){return f.keyCodeMap["function keys"](u)}}},colorNameMap:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},getColorNameToHex:function(e){return e||"string"==typeof e?(e=e.toLowerCase(),this.colorNameMap[e]||""):""},_search:function(e,t,r,n,o){t.nodeType===Node.ELEMENT_NODE&&0<t.childNodes.length&&this.childNodesMap(e,t,r,n,o)},_fn:function(e,t,r){var n=null;"function"==typeof r?n=r:r.exec&&(n=r.exec),(e._stopLoop||!1===n(t))&&(e._stopLoop=!0)},childNodesMap:function(e,t,r,n,o){if(e._originalNode||(e._originalNode=t),t){var i,a,l=[],s=0;if(s=t instanceof d||t instanceof Array?(l=t).length:(l=t.childNodes).length,!(e._stopLoop||o.filter&&!1===o.filter(t))){for(i=0;i<s&&(a=l[i],!e._stopLoop);i++)n&&this.matches(a,n)?o&&o.ignore&&o.ignore(a):o.filter&&!1===o.filter(a)||(r&&"desc"===r?(this._search(e,a,r,n,o),this._fn(e,a,o)):(this._fn(e,a,o),this._search(e,a,r,n,o)));e._originalNode===t&&(delete e._originalNode,delete e._stopLoop)}}},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isFloat:function(e){return e===+e&&e!==(0|e)},isInteger:function(e){return e===+e&&e===(0|e)},isArray:function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"function"==typeof e.splice&&!e.propertyIsEnumerable("length")},isObject:function(e){return null!==e&&"object"==typeof e&&e.constructor===Object},isEqualArray:function(e,t,r){if(!this.isArray(e)||!this.isArray(t))return!1;if(e===t)return!0;var n,o=e.length,i=!1;if(o===t.length)for(i=!0,r&&(e=e.slice(0).sort(),t=t.slice(0).sort()),n=0;i&&n<o;)i=e[n]===t[n],n++;return i},insertAfter:function(e,t){if(e&&t){var r=e.parentNode;r&&r.insertBefore(t,e.nextSibling)}},insertBefore:function(e,t){if(e&&t){var r=e.parentNode;r&&r.insertBefore(t,e)}},wrap:function(e,t){if(e&&t){var r=e.parentNode;r&&(r.insertBefore(t,e),t.appendChild(e))}},unwrap:function(e){if(e){var t,r=e.parentNode,n=r.parentNode,o=r.childNodes,i=o.length;if(r&&n){for(t=0;t<i;t++)this.insertBefore(r,o[0]);n.removeChild(r)}}},getRoundNumber:function(e,t){var r;return void 0===t&&(t=4),r=Math.pow(10,t),Math.round(e*r)/r},getCeilNumber:function(e,t){var r;return void 0===t&&(t=4),r=Math.pow(10,t),Math.ceil(e*r)/r},getFloorNumber:function(e,t){var r;return void 0===t&&(t=4),r=Math.pow(10,t),Math.floor(e*r)/r},getArabicToRoman:function(e,t,r){var n,o,i,a="",l=["IIII","V","XXXX","L","CCCC","D","MMMM"],s=l.length;for(void 0===r&&(r=!0),n=0;n<s;n++)i=e%(o=l[n].length+1),a=l[n].substr(0,i)+a,e=(e-i)/o;return r&&(a=(a=(a=(a=(a=(a=a.replace(/DCCCC/g,"CM")).replace(/CCCC/g,"CD")).replace(/LXXXX/g,"XC")).replace(/XXXX/g,"XL")).replace(/VIIII/g,"IX")).replace(/IIII/g,"IV")),t&&(a=a.toLowerCase()),a},getCustomStyleToStyleObj:function(e,t){var r,n,o,i="",a=[];if(!e||"object"!=typeof e)return i;for(r in e)o="",((n=e[r])||0===n)&&(o=!0===t?n+":"+r:r+":"+n,a.push(o));return a.length&&(i=a.join(";")),i},getStyleObjToCustomStyle:function(e,t){var r,n,o,i,a,l="",s={};if("string"==typeof e?e&&-1!==e.indexOf(":")&&(l=e):e&&e.style&&(l=e.style.cssText),!l)return s;for(n in r=(l=l.replace(/^\s*|\s*$/g,"")).split(";"))""!=r[n]&&(i=(o=r[n].split(/:(.+)/))[0].replace(/^\s*|\s*$/g,""),a=o[1].replace(/^\s*|\s*$/g,""),i&&a&&(!0===t?s[a]=i:s[i]=a));return s},getCssStyleObj:function(e){if(!e||!e.style)return null;var t,r,n,o,i={},a=e.style.cssText.split(";");for(t in a)""!=a[t].trim()&&(n=(r=a[t].split(":"))[0].replace(/^\s*|\s*$/g,""),o=r[1].replace(/^\s*|\s*$/g,""),"color"==n&&(o=this.getRgbToHex(o)),i[n=d.camelCase(n)]=o);return i},setCssTextToNode:function(e,t){if(e&&t){var r,n,o,i=document.createElement("span");for(n in i.style.cssText=t,r=this.getCssStyleObj(i))(o=r[n])&&(e.style[n]=o)}},getData:function(e,t){return d(e).length?d(e).data(t):""},createData:function(e,t,r){d(e).removeData(t).attr("data-"+t,r)},removeData:function(e,t){d(e).removeData(t).removeAttr("data-"+t)},changeSpaceToNbsp:function(e){return e=(e=(e=(e=(e=e.replace(/\&nbsp;/g," ")).replace(/(<(?:span|font)[^>]*>)[ ]/gi,function(e,t){return e?t+" ":""})).replace(/[ ]{2,}/g,function(e){var t,r=" ";if(1<e.length)for(t=0;t<e.length-1;t++)r+=t%2==0?" ":" ";else r=1==e.length?" ":e;return r})).replace(/([ ]<\/(?:span|font)\s*><(?:span|font)[^>]*>)[ ]/gi,function(e,t){return e?t+" ":""})).replace(/[ ](<\/(?:span|font)\s*>)/gi,function(e,t){return e?" "+t:""})},getSVGDocument:function(e){var t=null,r=null;try{r=(t=e.getSVGDocument())?t.getElementsByTagName("svg")[0]:null}catch(e){console.warn(e)}return r?t:null},printDiffTimeCount:function(e,t,r){var n=t-e;console.log(r+" Diff Time Count : "+n/1e3)},getTextNodes:function(e,t){var r,n,o=t||[],i=e.childNodes,a=i.length;for(r=0;r<a;++r)1===(n=i[r]).nodeType?this.getTextNodes(n,o):3===n.nodeType&&o.push(n);return o},safeNormalize:function(e){if(e&&3!==e.nodeType)if(d.browser.msie&&d.browser.version&&parseInt(d.browser.version,10)<=11){var t,r,n,o,i,a=this.getTextNodes(e),l=a.length;if(0!==l)for(t=0;t<l;t++)if(n=null,r=a[t])for(n=r.nextSibling;n&&3===n.nodeType;)o=a.indexOf(n),i=n.nextSibling,-1!=o&&(a[o]=null),""!==n.nodeValue&&(r.nodeValue+=n.nodeValue),n.parentNode.removeChild(n),n=i}else e.normalize()},multiCamelCase:function(e){if(!e||"string"!=typeof e)return e;var t=null,r=-1,n=-1,o=e;if(-1!==o.indexOf("-"))for(n=(t=o.split("-")).length,o="",r=0;r<n;r++)o+=0===r?t[r]:this.getUCFirst(t[r]);if(-1!==o.indexOf("_"))for(n=(t=o.split("_")).length,o="",r=0;r<n;r++)o+=0===r?t[r]:this.getUCFirst(t[r]);return o},substitute:function(e,t){var r=e||"";return d.each(t,function(e,t){r=r.replace("${"+e+"}",t)}),r=r.replace(/\$\{(.*)\}/g,"")},binarySearch:function(e,t,r,n,o,i,a){var l=Math.floor((r+n)/2),s=e?e[l]:null,c=0;if(n<r){if(a)return-1;do{if(-1==(l=n))break;s=e?e[l]:null,c=(c=o)?o.call(i,l,s,t):s-t,n-=1}while(0<=c);return l}return o?1===(c=o.call(i,l,s,t))?this.binarySearch(e,t,r,l-1,o,i,a):-1===c?this.binarySearch(e,t,l+1,n,o,i,a):l:t<s?this.binarySearch(e,t,r,l-1,o,i,a):s<t?this.binarySearch(e,t,l+1,n,o,i,a):l},findTableDepth:function(e,t,r,n){var o,i,a,l=[],s=[],c=[],u=0,f=-1,y=e;if(!y||"string"!=typeof t)return l;if("TABLE"!==y.nodeName&&(y=this.findParentTagNode(y,"table")),!y)return l;if(t=t.toUpperCase(),-1===["TABLE","TBODY","TR","TD"].indexOf(t))return l;if(this.isNumber(r)?"string"==typeof r&&(r=parseInt(r,10)):r=0,0===r)if(n)c.push(e);else{var d=e.nodeName;if("TABLE"!==d&&("TABLE"===t||"TBODY"===t))return l;"TABLE"===d&&"TABLE"===t?l.push(e):"TD"!==d&&c.push(e)}else s=e.querySelectorAll("table");if(s.length&&0<r)for(f=s.length,u=0;u<f;u++){for(o=1,a=(i=s[u]).parentNode;a&&a!==y;)"TABLE"===a.nodeName&&o++,a=a.parentNode;o===r&&c.push(i)}if(c.length){f=c.length;var h,p,m,g,K,C=!1,k=null,v=null;if(!0===n)for("TABLE"===t&&0<r&&(C=!0),u=0;u<f;u++)v=(k=c[u]).querySelectorAll(t),!0===C&&"TABLE"===k.nodeName&&l.push(k),l=l.concat(this.getCollectionToArray(v));else if("TABLE"===t&&0<r)l=l.concat(this.getCollectionToArray(c));else for(u=0;u<f;u++)if(h=null,p=0,m=-1,"TBODY"===(k=c[u]).nodeName&&(k=k.parentNode),k&&("TABLE"===k.nodeName?"TBODY"===t?l=l.concat(this.getCollectionToArray(k.tBodies)):"TR"===t?l=l.concat(this.getCollectionToArray(k.rows)):m=(h=k.rows).length:"TR"===k.nodeName&&"TD"===t&&(m=(h=[k]).length),0<m))for(p=0;p<m;p++)(K=(g=h[p])?g.cells:null)&&(l=l.concat(this.getCollectionToArray(K)))}return l},getCollectionToArray:function(t){var r=t;if("object"!=typeof t||"number"!=typeof t.length)return r;if("function"!=typeof t.splice)try{r=Array.prototype.slice.call(t,0)}catch(e){var n,o=t.length;for(r=[],n=0;n<o;n++)r[n]=t[n]}return r},generateGUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16).toUpperCase()})},isEmptyObject:function(e){return 0===Object.keys(e).length},hasClass:function(e,t){if(!e||1!==e.nodeType)return!1;var r,n,o=e.classList||e.className.split(" "),i=o.length,a=0,l=!1;if(this.isArray(t))for(a=t.length,r=0;r<a;r++){for(n=0;n<i;n++)if(o[n]==t[r]){l=!0;break}if(l)break}else for(r=0;r<i;r++)if(o[r]==t){l=!0;break}return l},addClass:function(e,t){if(!e||1!==e.nodeType||"string"!=typeof t)return!1;var r,n,o=e.className,i="",a=t.split(" "),l=a.length;for(r=0;r<l;r++)(n=a[r])&&!this.hasClass(e,n)&&(i+=(i?" ":"")+n);i&&(o+=o?" ":"",e.className=o+i)},removeClass:function(e,t){if(e&&1===e.nodeType&&"string"==typeof t){var r,n,o,i,a=t.split(" "),l=e.classList||e.className.split(" "),s=!!e.classList,c=[],u=a.length,f=l.length;if(f){for(r=0;r<u;r++)if(i=a[r])if(!0===s)l.remove(i);else for(n=0;n<f;n++)if(l[n]===i){c.push(n);break}if(c.length){var y="";for(o=0;o<l.length;o++)-1===c.indexOf(o)&&(y+=(y?" ":"")+l[o]);e.className=y}e.className||e.removeAttribute("class")}}},replaceClass:function(e,t,r){if(e&&1===e.nodeType&&t&&("string"!=typeof t||"string"==typeof r)){var n,o,i,a={},l=e.className.split(" "),s=!1;if(l.length){for(n in"object"==typeof t?a=t:a[t]=r,a)o=a[n],i=l.indexOf(n),n!==o&&-1!==i&&-1===l.indexOf(o)&&(l[i]=o,s=!0);!0===s&&(e.className=l.join(" "))}}},toggleClass:function(e,t){if(e&&1===e.nodeType&&"string"==typeof t){var r,n,o=t.split(" "),i=o.length;for(r=0;r<i;r++)(n=o[r])&&(this.hasClass(e,n)?this.removeClass(e,n):this.addClass(e,n))}},emptyNode:function(e){for(var t=e.lastChild;t;)e.removeChild(t),t=e.lastChild},removeNode:function(e){var t=e.parentNode;t&&t.removeChild(e)},childrenOfPara:function(e,t){var r,n=d(e);return"TABLE"===e.nodeName?r=n.find(t):(r=n.children(t),d.merge(r,n.children("a").children(t))),r},unique:function(e){var t,r=[],n=e.length;if("undefined"!=typeof Set){var o=new Set;for(t=0;t<n;t++)o.has(e[t])||(r[r.length]=e[t],o.add(e[t]))}else for(t=0;t<n;t++)-1===r.indexOf(e[t])&&(r[r.length]=e[t]);return r},contains:function(e,t){var r=!1;return e instanceof Array?r=-1!==e.indexOf(t):e instanceof Set&&(r=e.has(t)),r},hasScroll:function(e,t){var r=!1,n="top"===t?"top":"left",o=-1,i=-1;return e&&1===e.nodeType&&(o="top"===n?e.scrollHeight:e.scrollWidth,i="top"===n?e.clientHeight:e.clientWidth),-1<o&&-1<i&&(r=o!==i),r},without:function(e,t){if(!this.isArray(e))return e;var r=function(e){return t instanceof Array?-1===t.indexOf(e):e!==t};return e.filter?e.filter(r):d.grep(e,r)},shallowCopyArray:function(e){var t,r,n=e.length;for(t=new Array(n),r=0;r<n;r++)t[r]=e[r];return t},shallowCopyObject:function(e,t){var r,n=t||{};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},reverseArray:function(e){var t,r,n;for(t=0,r=e.length-1;t<r;t++,r--)n=e[t],e[t]=e[r],e[r]=n;return e},getOffsetWidth:function(e,t){var r;return e&&e.parentNode?(t||(t="accurate"),"native"===t?e.offsetWidth:"accurate"===t&&(r=e.getBoundingClientRect())?r.width:parseFloat(this.getCurrentStyle(e,"width"))+parseFloat(this.getCurrentStyle(e,"borderLeftWidth"))+parseFloat(this.getCurrentStyle(e,"borderRightWidth"))+parseFloat(this.getCurrentStyle(e,"paddingLeft"))+parseFloat(this.getCurrentStyle(e,"paddingRight"))):0},getOffsetHeight:function(e,t){var r;return e&&e.parentNode?(t||(t="accurate"),"native"===t?e.offsetHeight:"accurate"===t&&(r=e.getBoundingClientRect())?r.height:parseFloat(this.getCurrentStyle(e,"height"))+parseFloat(this.getCurrentStyle(e,"borderTopWidth"))+parseFloat(this.getCurrentStyle(e,"borderBottomWidth"))+parseFloat(this.getCurrentStyle(e,"paddingTop"))+parseFloat(this.getCurrentStyle(e,"paddingBottom"))):0},getClientWidth:function(e,t){var r,n,o;return e&&e.parentNode?(t||(t="accurate"),"native"===t?e.clientWidth:"accurate"===t&&(o=e.getBoundingClientRect())?(r=parseFloat(this.getCurrentStyle(e,"borderLeftWidth")),n=parseFloat(this.getCurrentStyle(e,"borderRightWidth")),o.width-r-n):parseFloat(this.getCurrentStyle(e,"width"))+parseFloat(this.getCurrentStyle(e,"paddingLeft"))+parseFloat(this.getCurrentStyle(e,"paddingRight"))):0},getClientHeight:function(e,t){var r,n,o;return e&&e.parentNode?(t||(t="accurate"),"native"===t?e.clientHeight:"accurate"===t&&(o=e.getBoundingClientRect())?(r=parseFloat(this.getCurrentStyle(e,"borderTopWidth")),n=parseFloat(this.getCurrentStyle(e,"borderBottomWidth")),o.height-r-n):parseFloat(this.getCurrentStyle(e,"height"))+parseFloat(this.getCurrentStyle(e,"paddingTop"))+parseFloat(this.getCurrentStyle(e,"paddingBottom"))):0},findIndex:function(e,t,r){if(!e||!e.length||!t)return-1;var n,o=-1,i=e.length;for(n=0;n<i;n++)if(t.call(r,e[n])){o=n;break}return o},querySelectorWrapped:function(t,r){if(!t||!r)return null;try{return t.querySelector(r)}catch(e){if(/(^|,)\s*:scope/.test(r)){var n,o,i=t.id;if(t.id="ID_"+this.generateGUID(),o=r.replace(/((^|,)\s*):scope/g,"$1#"+t.id),t.parentNode)n=t.parentNode.querySelector(o);else{if(/(,)/.test(r))throw"Util.querySelectorWrapped() : doesn't support the selectors in this browser. \""+r+'"';n=document.querySelector(o)}return t.id=i,n}throw e}},codePointAt:function(e,t){if(e){var r,n,o,i;if(String.prototype.codePointAt)return e.codePointAt();if(r=e.length,n=t?Number(t):0,isNaN(n)&&(n=0),!(n<0||r<=n))return 55296<=(o=e.charCodeAt(n))&&o<=56319&&n+1<r&&56320<=(i=e.charCodeAt(n+1))&&i<=57343?1024*(o-55296)+i-56320+65536:o}},fromCodePoint:function(){if(String.fromCodePoint)return String.fromCodePoint.apply(null,arguments);var e,t,r,n=[],o=-1,i=arguments.length,a="";if(!i)return a;for(;++o<i;){if(r=Number(arguments[o]),!isFinite(r)||r<0||1114111<r||Math.floor(r)!=r)throw RangeError("Invalid code point: "+r);r<=65535?n.push(r):(e=55296+((r-=65536)>>10),t=r%1024+56320,n.push(e,t)),(o+1==i||16384<n.length)&&(a+=String.fromCharCode.apply(null,n),n.length=0)}return a},getBaseUrl:function(e){var t=this.parseURL(e),r=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},n=t.path.split("/"),o="";if(2<n.length)for(i=1;i<n.length-1;i++)n[i]&&(o+=n[i],o+="/");else o=r(t.path,"/")?n[1]:n[0];var a=t.protocol+"://"+t.authority+"/"+o;return r(a,"/")||(a+="/"),a},string2Bin:function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||57344<=n?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)},bin2String:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},binaryText2String:function(e){for(var t,r,n="",o=0;o<e.length;)r=223<(t=e[o++])&&t<240&&o<e.length-1?(15&t)<<12|(63&e[o++])<<6|63&e[o++]:127<t&&o<e.length?(31&t)<<6|63&e[o++]:t,n+=String.fromCharCode(r);return n},_MakeJsonObj:function(t){if(null==t)return{};switch(typeof t){case"object":return t;case"string":try{return JSON.parse(t)}catch(e){return console.warn(e),{parse_errordata:t}}case"array":try{return JSON.parse(t)}catch(e){return console.warn(e),{parse_errordata:t.toString()}}case"number":default:return console.warn("Not Support Operation in makejsonobject"),{parse_errordata:t}}},_MergeJson:function(e,t){var r=this._MakeJsonObj(e),n=this._MakeJsonObj(t),o={};for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return o},getBase64Image:function(e){try{var t,r=document.createElement("canvas"),n=r.getContext("2d"),o=Math.max(1,e.naturalWidth),i=Math.max(1,e.naturalHeight);if(e.src.match(/^data:image\/(png|jpg|jpeg|gif|bmp);base64,/))t=e.src.toString();else{var a=o,l=i;if(1024<a){var s=1024/a;a*=s,l*=s}r.width=a,r.height=l;var c=1;do{n.drawImage(e,0,0,o,i,0,0,r.width,r.height);var u=r.toDataURL();if(c-=.2,r.width=a*c,r.height=l*c,c<=0)break}while(2e6<u.length);t=u.toString(),e.src=t}return r=void 0,t.replace(/^data:image\/(png|jpg|jpeg|gif|bmp);base64,/,"")}catch(e){return console.warn("unsupported image format\n"+e),""}},qualifyURL:function(e){var t=document.createElement("img");return t.src=e,e=t.src,t.src="",e},getImageUrl:function(e){if(String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),!e.startsWith("blob:")&&!e.startsWith("data:")){var t=window.BaseUrl;null!=t&&""!=t||(t=this.getBaseUrl(location.href));(new Date).getTime();e=t+"url/"+this.qualifyURL(e)}return e},isUrlExists:function(e,t){var r;window.XMLHttpRequest?r=new XMLHttpRequest:(r=new ActiveXObject("Microsoft.XMLHttp"),console.error("not support"));try{r&&(r.open("HEAD",e,!0),window.XMLHttpRequest&&(r.timeout=1e3),r.onload=function(e){4!=r.readyState||200!=r.status?null!=t&&"function"==typeof t&&t(!1):null!=t&&"function"==typeof t&&t(!0)},r.ontimeout=function(e){null!=t&&"function"==typeof t&&t(!1)},r.onerror=function(e){null!=t&&"function"==typeof t&&t(!1)},r.send())}catch(e){null!=t&&"function"==typeof t&&t(!1)}},encryption:function(e){var t=o.lib.WordArray.random(16).toString(o.enc.Hex),r=o.lib.WordArray.random(16).toString(o.enc.Hex),n=o.PBKDF2("webhwpsecurity",o.enc.Hex.parse(r),{keySize:4,iterations:100});return r+t+o.AES.encrypt(e,n,{iv:o.enc.Hex.parse(t)})},getErrorMessage:function(e){switch(e){case t.ERROR_CONTROLLER_DATA_TRANSFER:return window.HwpApp.errorRes.error_controller_data_transfer;case t.ERROR_CONTROLLER_DATA_TRANSFER_EXIST:return window.HwpApp.errorRes.error_controller_data_transfer_exist;case t.ERROR_CONTROLLER_DATA_TRANSFER_UPLOAD_SIZE_EXCEEDED:return window.HwpApp.errorRes.error_controller_data_transfer_upload_size_exceeded;case t.ERROR_CONTROLLER_DOCUMENT_CONVERT:return window.HwpApp.errorRes.error_controller_document_convert;case t.ERROR_CONTROLLER_PASSWORD_DECRYPT:return window.HwpApp.errorRes.error_controller_password_decrypt;case t.ERROR_CONTROLLER_DOCUMENT_OPEN:return window.HwpApp.errorRes.error_controller_document_open;case t.ERROR_CONTROLLER_DOCUMENT_OPEN_URL:return window.HwpApp.errorRes.error_controller_document_open_url;case t.ERROR_CONTROLLER_DOCUMENT_OPEN_INVALID_TYPE:return window.HwpApp.errorRes.error_controller_document_open_invalid_type;case t.ERROR_CONTROLLER_DOCUMENT_SAVE:return window.HwpApp.errorRes.error_controller_document_save;case t.ERROR_CONTROLLER_DOCUMENT_SAVE_PDF:return window.HwpApp.errorRes.error_controller_document_save_pdf;case t.ERROR_CONTROLLER_DOCUMENT_SAVEPAGE:return window.HwpApp.errorRes.error_controller_document_savepage;case t.ERROR_CONTROLLER_DOCUMENT_OPENURL_INTERNAL:return window.HwpApp.errorRes.error_controller_document_openurl_internal;case t.ERROR_CONTROLLER_DOCUMENT_CONVERT_INTERNAL:return window.HwpApp.errorRes.error_controller_document_convert_internal;case t.ERROR_HWPSDK_GENERAL:return window.HwpApp.errorRes.error_hwpsdk_general;case t.ERROR_HWPSDK_SAVETOJSON:return window.HwpApp.errorRes.error_hwpsdk_savetojson;case t.ERROR_HWPSDK_JSON_OLE_SAVE:return window.HwpApp.errorRes.error_hwpsdk_json_ole_save;case t.ERROR_HWPSDK_SAVEAS:return window.HwpApp.errorRes.error_hwpsdk_saveas;case t.ERROR_HWPSDK_SAVEPAGEIMAGE:return window.HwpApp.errorRes.error_hwpsdk_savepageimage;case t.ERROR_AJAX_GENERAL:return window.HwpApp.errorRes.error_ajax_general;default:return window.HwpApp.errorRes.error_unknown}}}});
