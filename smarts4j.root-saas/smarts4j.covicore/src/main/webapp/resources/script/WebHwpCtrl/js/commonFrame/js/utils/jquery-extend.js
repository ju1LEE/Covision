define(["jquery"],function(e){var o,i;e.publish||e.subscribe||(i={},(o=e).publish=function(e,r,s){i[e]&&o.each(i[e],function(){this.call(o,r||[],s)})},o.subscribe=function(e,r){return i[e]||(i[e]=[]),i[e].push(r),[e,r]},o.unsubscribe=function(r){var s=r[0];i[s]&&o.each(i[s],function(e){this==r[1]&&i[s].splice(e,1)})}),e.browser||function(e){var r,s=navigator.userAgent,o=navigator.platform.toLowerCase(),i=/(webkit)[ \/]([\w.]+)/,n=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,b=/(mozilla)(?:.*? rv:([\w.]+))?/,t=(/^(win)(32|64)/.exec(o)||/^(mac)/.exec(o)||/^(linux)/.exec(o)||[])[1]||"";if(e.browser={},e.platform={},r=function(e){e=e.toLowerCase();var r=i.exec(e)||n.exec(e)||w.exec(e)||e.indexOf("compatible")<0&&b.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}}(s),""!==t&&("linux"===t&&/tizen/i.test(s)&&(t="tizen"),e.platform[t]=!0),r.browser){"mozilla"===r.browser&&/trident/i.test(s)&&(r.browser="msie"),e.browser[r.browser]=!0,e.browser.version=r.version,e.browser.name=r.browser;var a=s.toLowerCase(),c=null,m=null,u="";if("webkit"===r.browser)e.browser.orgWebkit=!0,e.browser.orgVersion=e.browser.version,/(chrome|crios)\//.test(a)?/(opr)\//.test(a)?(e.browser.opera=!0,e.browser.name="opera",c=/(opr)[ \/]([\w.]+)/.exec(a)):/(edge)\//.test(a)?(e.browser.edge=!0,e.browser.name="edge",(c=/(edge)[ \/]([\w.]+)/.exec(a))&&(u=c[2]),(!u||12<=parseFloat(u))&&(e.browser.orgWebkit=!1),e.browser.msieType=!1,(e.browser.msie11Type=!1)===e.browser.orgWebkit&&(e.browser.msieType=!0,e.browser.msie11Type=!0)):/(samsungbrowser)\//.test(a)?(e.browser.samsungBrowser=!0,e.browser.name="samsungBrowser",/smart-tv/.test(a)&&(e.browser.smartTV=!0),c=/(samsungbrowser)[ \/]([\w.]+)/.exec(a),m=/(tizen )([\w.]+)/.exec(a)):(e.browser.chrome=!0,e.browser.name="chrome",c=/(chrome|crios)[ \/]([\w.]+)/.exec(a)):/(safari)\//.test(a)&&(e.browser.safari=!0,e.browser.name="safari",c=/(version)[ \/]([\w.]+)/.exec(a),m=/(mac os x )([\w]+)/.exec(a)),c&&(e.browser.version=c[2]),m&&(e.browser.osVersion=m[2],e.browser.osVersion&&(e.browser.osVersion=e.browser.osVersion.split("_").join(".")));else if("msie"===r.browser){var l=r.version?parseFloat(r.version):0,p=document.documentMode;l<11&&p&&11===(l=parseFloat(p))&&(e.browser.version=String(l)),e.browser.msieType=!0,e.browser.msie11Type=!(!e.browser.version||11!==parseInt(e.browser.version,10))}}}(e)});
